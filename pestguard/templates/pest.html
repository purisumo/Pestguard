{% load static%}
<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>Pestgaurd</title>

  <meta name="description" content="" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link rel="stylesheet" href="/static/css/bootstrap.min.css" />
  <link rel="stylesheet" href="/static/css/bootstrap-theme.min.css" />
  <link rel="stylesheet" href="/static/css/fontAwesome.css" />
  <link rel="stylesheet" href="/static/css/hero-slider.css" />
  <link rel="stylesheet" href="/static/css/owl-carousel.css" />
  <link rel="stylesheet" href="/static/css/style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
  <link href="https://fonts.googleapis.com/css?family=Raleway:100,200,300,400,500,600,700,800,900" rel="stylesheet" />

  <script src="/static/js/vendor/modernizr-2.8.3-respond-1.4.2.min.js"></script>
</head>

<body>
  <!-- Header -->

  {% include 'header.html' %}

  <main>
    <section class="featured-places">

      <div class="container">
        <form method="get" action="{% url 'search' %}" autocomplete="off">
          <div class="search-bar text-center">
            <input type="text" name="query" id="pestSearch" placeholder="Search for pests...">
            <button type="submit"><i class="fas fa-search"></i></button>
            <select class="form-select" name="filter" aria-label="Default select example" style="margin: 3vh;">
              <option selected disabled>FILTER</option>
              <option value="phillippines">phillippines</option>
              <option value="asia">Asia</option>
              <option value="Europe">Europe</option>
              <option value="Oceana">Oceana</option>
              <option value="North-america">North America</option>
              <option value="antarctica">Antarctica</option>
              <option value="africa">Africa</option>
              <option value="south-america">South America</option>
          </select>
          </div>
        </form>
        {% if query %}
        <h1 class="text-center fs-1">Search result: {{query}} </h1>
        {% else %}
        <h1 class="text-center fs-1">Type of Pest</h1>
        {% endif %}
        <div class="row" id="pestContainer">
          {% for pest in pests %}
            <div class="col-md-4 col-sm-6 col-xs-12">
              <div class="featured-item">
                <div class="thumb">
                  <div class="thumb-img">
                    <img src="{{pest.img.url}}" style="width: 400px; height: 250px;" />
                  </div>
                </div>
                <div class="down-content" style="width: 360px; height: 250px;">
                  <h4>
                    {{pest.name}}
                  </h4>
                  <p>
                    {{pest.info}}
                  </p>
                  <div class="text-button">
                    <a href="{% url 'pestdetail' pest.id  %}">View More</a>
                  </div>
                </div>
              </div>
            </div>
          {% endfor %}
        </div>

        <!-- Pagination -->
        <nav aria-label="..." class="text-center">
          <ul class="pagination">
          {% if pests.has_previous %}
            <li class="page-item"><a class="page-link" href="?page={{ pests.previous_page_number }}">Previous</a></li>
          {% else %}
            <li class="page-item disabled"><span class="page-link">Previous</span></li>
          {% endif %}

          {% for i in pests.paginator.page_range %}
            <li class="page-item {% if pests.number == i %}active{% endif %}">
              <a class="page-link" href="?page={{ i }}">{{ i }}</a>
            </li>
          {% endfor %}

          {% if pests.has_next %}
            <li class="page-item"><a class="page-link" href="?page={{ pests.next_page_number }}">Next</a></li>
          {% else %}
            <li class="page-item disabled"><span class="page-link">Next</span></li>
          {% endif %}
          </ul>
        </nav>
      </div>




    </section>
  </main>



  {% include 'footer.html' %}



  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js" type="text/javascript"></script>
  <script>
    window.jQuery ||
      document.write(
        '<script src="/static/js/vendor/jquery-1.11.2.min.js"><\/script>'
      );
  </script>

  <script src="/static/js/vendor/bootstrap.min.js"></script>

  <script src="/static/js/datepicker.js"></script>
  <script src="/static/js/plugins.js"></script>
  <script src="/static/js/main.js"></script>
</body>

</html>